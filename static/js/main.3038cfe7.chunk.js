(this["webpackJsonpreact-use-asset-loader-example"]=this["webpackJsonpreact-use-asset-loader-example"]||[]).push([[0],{11:function(t,e,n){},13:function(t,e,n){"use strict";n.r(e);var r=n(0),s=n.n(r),a=n(2),o=n.n(a),u=(n(11),n(1)),i=n.n(u),c=n(3),l=function(){return(l=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var s in e=arguments[n])Object.prototype.hasOwnProperty.call(e,s)&&(t[s]=e[s]);return t}).apply(this,arguments)};function f(t,e,n,r){return new(n||(n=Promise))((function(s,a){function o(t){try{i(r.next(t))}catch(e){a(e)}}function u(t){try{i(r.throw(t))}catch(e){a(e)}}function i(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}i((r=r.apply(t,e||[])).next())}))}function d(t,e){var n,r,s,a,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:u(0),throw:u(1),return:u(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(a){return function(u){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(s=(s=o.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){o.label=a[1];break}if(6===a[0]&&o.label<s[1]){o.label=s[1],s=a;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(a);break}s[2]&&o.ops.pop(),o.trys.pop();continue}a=e.call(t,o)}catch(u){a=[6,u],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,u])}}}function p(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var v=function(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}((void 0===e||null===e)&&n.path)}},n.exports),n.exports}((function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e,n=new Set,r=function(t,r){var s="function"===typeof t?t(e):t;if(s!==e){var a=e;e=r?s:Object.assign({},e,s),n.forEach((function(t){return t(e,a)}))}},s=function(){return e},a={setState:r,getState:s,subscribe:function(t,r,a){return r||a?function(t,r,a){void 0===r&&(r=s),void 0===a&&(a=Object.is);var o=r(e);function u(){var n=r(e);if(!a(o,n)){var s=o;t(o=n,s)}}return n.add(u),function(){return n.delete(u)}}(t,r,a):(n.add(t),function(){return n.delete(t)})},destroy:function(){return n.clear()}};return e=t(r,s,a),a}})),y={assets:{},states:{}},h=p(v)((function(){return y})),b=h.getState,m=h.setState,w=h.subscribe;function g(){var t=this;return function(e){var n=e.onError,r=e.assets;return new Promise((function(e){return f(t,void 0,void 0,(function(){var t,s,a;return d(this,(function(o){switch(o.label){case 0:return t=r.filter((function(t){var e=t.values,n=e.id,r=e.url,s=b().assets[r];return s&&s.values.id===n&&"ready"===s.state})),s=r.map((function(t){return function(t){var e,n,r,s=this,a=t.values,o=a.id,u=a.url,i=t.type,c=["ready","error"],p=b().assets[u],v=b().states[o];"link"===t.type&&(n=t.values.rel||"stylesheet",r=t.values.type||"text/css");return new Promise((function(a,y){var h,g=function(t){var e=t.state,n=t.asset;"ready"===e&&a({state:e,asset:n}),"error"===e&&y({state:e,asset:n})},O="script"===i,j=O?document.createElement("script"):document.createElement("link"),x=function(e){var n,r,s="load"===e.type?"ready":"error";j.setAttribute("data-status",s),m({assets:l(l({},b().assets),(n={},n[u]=l(l({},t),{state:s}),n)),states:l(l({},b().states),(r={},r[o]=s,r))})},E=function(){e&&e(),e=void 0,j.removeEventListener("load",x),j.removeEventListener("error",x)},S=function(e){var a;if(e){var i=O?document.body:document.head;m({assets:l(l({},b().assets),(a={},a[u]=l(l({},t),{state:b().states[o]}),a))}),j instanceof HTMLScriptElement?(j.src=u,j.async=!1,j.defer=!0):(j.rel=n,j.type=r,j.href=u),j.setAttribute("data-status","loading"),j.id=o,i.appendChild(j),j.addEventListener("load",x),j.addEventListener("error",x)}else f(s,void 0,void 0,(function(){var e,n,r,s,a;return d(this,(function(i){switch(i.label){case 0:e=function(){return new Promise((function(t){setTimeout((function(){var e;return t(c.includes((null===(e=b().assets[u])||void 0===e?void 0:e.state)||"")&&"loading"===b().states[o])}),1)}))},n=null,r=5080,i.label=1;case 1:return!n&&r>0?(r--,[4,e()]):[3,3];case 2:return n=i.sent(),[3,1];case 3:return m({assets:l(l({},b().assets),(s={},s[u]=l(l({},t),{state:(null===(a=b().assets[u])||void 0===a?void 0:a.state)||"error"}),s))}),[2]}}))}))};e=w((function(t){var e,n=(null===t||void 0===t?void 0:t.state)||b().states[o];b().assets[u]||"loading"!==b().states[o]||S(!0),n&&"ready"!==n&&"error"!==n||(m({states:l(l({},b().states),(e={},e[o]=n,e))}),E(),g({state:n,asset:t}))}),(function(){return b().assets[u]})),setTimeout((function(){e&&E()}),5888),"loading"!==v&&(p&&c.includes(v)&&g({state:v,asset:t}),m({states:l(l({},b().states),(h={},h[o]="loading",h))}),S(!p||!1))}))}(t)})),t.length===r.length?[2,e({result:r.map((function(t){return{asset:t,state:"ready"}}))||[],status:"ready"})]:[4,Promise.all(s).catch((function(t){return r.forEach((function(t){var e,n=t.type,r=t.values,s=r.id,a=r.url,o="script"===n?document.body:document.head,u=document.querySelector("#"+s),i=b().assets,c=a;i[c];var f=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var s=0;for(r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]])}return n}(i,["symbol"===typeof c?c:c+""]);u&&(o.removeChild(u),m({assets:f,states:l(l({},b().states),(e={},e[s]="error",e))}))})),[t]}))];case 1:return(a=o.sent()).find((function(t){return"error"===t.state}))?[2,n&&n(a[0])]:[2,e({result:a,status:"ready"})]}}))}))}))}}var O=function(){var t=g();return s.a.createElement("button",{onClick:Object(c.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t({assets:[{type:"link",values:{url:"/react-use-asset-loader/sample.css",id:"sample-css",rel:"stylesheet",type:"text/css"}},{type:"script",values:{url:"https://cdn.jsdelivr.net/npm/js-confetti@latest/dist/js-confetti.browser.js",id:"sample-js"}}]});case 2:window.JSConfetti&&(new window.JSConfetti).addConfetti();case 3:case"end":return e.stop()}}),e)})))},"Test")};o.a.render(s.a.createElement(O,null),document.getElementById("root"))},4:function(t,e,n){t.exports=n(13)}},[[4,1,2]]]);
//# sourceMappingURL=main.3038cfe7.chunk.js.map